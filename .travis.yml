language: node_js
node_js:
  - 6
cache:
  directories:
    - node_modules
before_script: 
  - npm install gulp
script:
  - npm test
  - npm run build
deploy:
  provider: script
  edge: true
  script: gulp deploy --user $PROD_FTP_USER --password $PROD_FTP_PASSWORD # environment variables stored at travis-ci.org
  on:
    branch: master 
deploy:
  provider: script
  script: gulp deploy --user $DEV_FTP_USER --password $DEV_FTP_PASSWORD  # environment variables stored at travis-ci.org
  on:
    all_branches: true
